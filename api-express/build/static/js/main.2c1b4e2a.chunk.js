(this["webpackJsonpe-shoe"]=this["webpackJsonpe-shoe"]||[]).push([[0],{101:function(e,t,a){},129:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(11),o=a.n(s),l=a(14),i=(a(101),a(18)),r=a.n(i),j=a(12),d=a(166),b=a(2),u=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),i=o[0],u=o[1],O=Object(n.useState)(""),h=Object(l.a)(O,2),g=h[0],x=h[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),f=p[0],v=p[1],S=Object(n.useState)(!1),y=Object(l.a)(S,2),C=y[0],I=y[1],N=Object(n.useState)("error-msg"),w=Object(l.a)(N,2),k=w[0],A=w[1],D=function(e){I(!0),A(-1===e?"Authentication Failed":"Please provide "+e),setTimeout((function(){I(!1),A("")}),3e3)},T=function(){window.location.href="http://localhost:5000/login"},B=function(e){r.a.post("/auth",e).then((function(e){console.log(e.data.name,e.data.role),localStorage.setItem("user_name",e.data.name),localStorage.setItem("user_role",e.data.role),_.push("/front"),x(""),v("")})).catch((function(e){console.log(e),D(-1)}))},E=function(e){r.a.post("/register",e).then((function(e){console.log(e.data),alert("Registration Successful")})).catch((function(e){console.log(e),alert("Registration failed")})),u(""),x(""),v("")},_=Object(j.e)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Welcome to IIIT - H Issue Tracking"}),Object(b.jsxs)("div",{className:a?"container":"container right-panel-active",id:"container",children:[Object(b.jsx)("div",{className:"form-container sign-up-container",children:Object(b.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault();var t={name:i,email:g,password:f};""===g?D("Email"):""===f?D("Password"):E(t)},children:[Object(b.jsx)("h1",{children:"Create Account"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:T,children:"Cas Login"})}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"or use your email for registration"}),Object(b.jsx)("input",{type:"text",placeholder:"Name",value:i,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)("input",{type:"email",placeholder:"Email",value:g,onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("input",{type:"password",placeholder:"Password",value:f,onChange:function(e){return v(e.target.value)}}),C?Object(b.jsx)("div",{className:"msg",children:k}):Object(b.jsx)("button",{type:"submit",children:"Sign Up"})]})}),Object(b.jsx)("div",{className:"form-container sign-in-container",children:Object(b.jsxs)("form",{action:"#",id:"sign-in-form",onSubmit:function(e){e.preventDefault();var t={email:g,password:f};""===g?D("Email"):""===f?D("Password"):B(t)},children:[Object(b.jsx)("h1",{children:"Sign in"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{variant:"outlined",onClick:T,children:"Cas Login"})}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"or use your account"}),Object(b.jsx)("input",{id:"email",type:"email",placeholder:"Email",value:g,onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("input",{id:"pass",type:"password",placeholder:"Password",value:f,onChange:function(e){return v(e.target.value)}}),Object(b.jsx)("a",{href:"/",children:"Forgot your password?"}),C?Object(b.jsx)("div",{className:"msg",children:k}):Object(b.jsx)("button",{type:"submit",children:"Sign In"})]})}),Object(b.jsx)("div",{className:"overlay-container",children:Object(b.jsxs)("div",{className:"overlay",children:[Object(b.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(b.jsx)("h1",{children:"Welcome Back!"}),Object(b.jsx)("p",{children:"To stay connected with us please login with your personal info"}),Object(b.jsx)("button",{className:"ghost",id:"signIn",onClick:function(){c(!a)},children:"Sign In"})]}),Object(b.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(b.jsx)("h1",{children:"Hello, Friend!"}),Object(b.jsx)("p",{children:"Enter your personal details and start your journey with us"}),Object(b.jsx)("button",{className:"ghost",id:"signUp",onClick:function(){c(!a)},children:"Sign Up"})]})]})})]})]})},O=a(170),h=a(174),g=a(178),x=a(177),m=a(173),p=a(175),f=a(176),v=a(172),S=a(81),y=a.n(S),C=a(65),I=a.n(C),N=(a(129),a(40)),w=a(45),k=a(179),A=a(184),D=a(171),T=a(181),B=a(180),E=Object(O.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),_=function(){var e=E(),t=Object(n.useState)({title:"",description:"",tags:"",assignees:"",state:"open",pBy:localStorage.getItem("user_name")||localStorage.getItem("casName")}),a=Object(l.a)(t,2),c=a[0],s=a[1],o=function(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(N.a)({},a,n))}))};return Object(b.jsxs)("form",{className:e.root,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=c;r.a.post("/addIssue",t).then((function(e){return console.log(t)})).catch((function(e){console.log(e)})),s({title:"",description:"",tags:"",assignees:"",state:"open",pBy:""})},children:[Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Title",value:c.title,name:"title",onChange:o,required:!0}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Description",value:c.description,name:"description",onChange:o,required:!0}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Tags",value:c.tags,name:"tags",onChange:o,required:!0}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Assignees",value:c.assignees,name:"assignees",onChange:o,required:!0}),Object(b.jsx)(D.a,{component:"legend",children:"State"}),Object(b.jsxs)(A.a,{"aria-label":"gender",name:"state",value:c.state,onChange:o,row:!0,required:!0,children:[Object(b.jsx)(T.a,{value:"open",control:Object(b.jsx)(B.a,{}),label:"Open"}),Object(b.jsx)(T.a,{value:"assigned",control:Object(b.jsx)(B.a,{}),label:"Assigned"}),Object(b.jsx)(T.a,{value:"fixed",control:Object(b.jsx)(B.a,{}),label:"Fixed"}),Object(b.jsx)(T.a,{value:"abandoned",control:Object(b.jsx)(B.a,{}),label:"Abandoned"})]}),Object(b.jsx)("br",{}),Object(b.jsx)(d.a,{type:"submit",color:"secondary",children:"Add Issue"})]})},F=Object(O.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),L=function(e){var t=F(),a=Object(n.useState)({}),c=Object(l.a)(a,2),s=c[0],o=c[1],i=function(e){if(""!==e.target.value){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(N.a)({},a,n))}))}else{var c=e.target.name;delete s[c]}};return Object(b.jsxs)("form",{className:t.root,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=e.id,n="/update-issue/".concat(a);console.log(n),console.log(s),r.a.put("/update-issue/".concat(a),s).then((function(e){console.log(e),console.log(e.data)})).catch((function(e){console.log(e)}))},children:[Object(b.jsx)("div",{className:"make-center",children:e.id}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Title",name:"title",onChange:i}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Description",name:"description",onChange:i}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Tags",name:"tags",onChange:i}),Object(b.jsx)(k.a,{variant:"outlined",placeholder:"Assignees",name:"assignees",onChange:i}),Object(b.jsx)(D.a,{component:"legend",children:"State"}),Object(b.jsxs)(A.a,{"aria-label":"gender",name:"state",onChange:i,row:!0,children:[Object(b.jsx)(T.a,{value:"open",control:Object(b.jsx)(B.a,{}),label:"Open"}),Object(b.jsx)(T.a,{value:"assigned",control:Object(b.jsx)(B.a,{}),label:"Assigned"}),Object(b.jsx)(T.a,{value:"fixed",control:Object(b.jsx)(B.a,{}),label:"Fixed"}),Object(b.jsx)(T.a,{value:"abandoned",control:Object(b.jsx)(B.a,{}),label:"Abandoned"})]}),Object(b.jsx)("br",{}),Object(b.jsx)(d.a,{type:"submit",color:"secondary",children:"Update Issue"})]})},P=a(82),R=a.n(P),U=a(183),q=a(32),W=a(83),H=a.n(W),J=Object(O.a)({table:{minWidth:500}}),X=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],O=Object(n.useState)(!1),S=Object(l.a)(O,2),C=S[0],N=S[1],w=Object(n.useState)(!1),k=Object(l.a)(w,2),A=k[0],D=k[1],T=Object(n.useState)(""),B=Object(l.a)(T,2),E=B[0],F=B[1],P=Object(j.e)(),W=J(),X=localStorage.getItem("user_name"),z=localStorage.getItem("user_role"),M=localStorage.getItem("casAuth"),G=localStorage.getItem("casName"),K=(localStorage.getItem("casRoll"),function(){r.a.get("/casLogin").then((function(e){console.log(e.data.casAuth),function(e){localStorage.setItem("casAuth",e.data.casAuth),localStorage.setItem("casName",e.data.name),localStorage.setItem("casRoll",e.data.roll)}(e)})).catch((function(e){console.log(e)}))});return Object(n.useEffect)((function(){r.a.get("/allIssues").then((function(e){c(e.data),console.log(a)})).catch((function(e){console.log(e)}))}),[A]),Object(n.useEffect)((function(){K()}),[]),Object(b.jsx)(b.Fragment,{children:""!==X||""!==z||M?Object(b.jsxs)("div",{children:[Object(b.jsxs)(m.a,{component:v.a,children:[Object(b.jsx)("h1",{className:"make-center",children:"Issues"}),Object(b.jsx)("div",{className:"make-center",children:Object(b.jsxs)(d.a,{onClick:function(){r.a.delete("/del-all-issues").then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),D(!A)},variant:"outlined",color:"secondary",size:"small",children:[Object(b.jsx)(I.a,{}),"Delete All"]})}),Object(b.jsxs)(h.a,{className:W.table,"aria-label":"simple table",children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{align:"center",children:"Title"}),Object(b.jsx)(x.a,{children:"Assignee(s)"}),Object(b.jsx)(x.a,{align:"center",children:"Description"}),Object(b.jsx)(x.a,{align:"center",children:"State"}),Object(b.jsx)(x.a,{align:"center",children:"Tags"}),Object(b.jsx)(x.a,{align:"center",children:"Posted By"}),Object(b.jsx)(x.a,{align:"center",children:"Edit Issue"}),Object(b.jsx)(x.a,{align:"center",children:"Delete Issue"})]})}),Object(b.jsx)(g.a,{children:a.map((function(e){return Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{align:"center",children:e.title}),Object(b.jsx)(x.a,{component:"th",scope:"row",children:e.assignees}),Object(b.jsx)(x.a,{align:"center",children:e.description}),Object(b.jsx)(x.a,{align:"center",children:e.state}),Object(b.jsx)(x.a,{align:"center",children:Object(b.jsx)(U.a,{label:e.tags,variant:"outlined",color:"secondary",onClick:function(){return t=e.tags,void r.a.get("/search-by-tag/".concat(t)).then((function(e){console.log(e.data),c(e.data)})).catch((function(e){console.log(e)}));var t}})}),Object(b.jsx)(x.a,{align:"center",children:e.postedBy}),X===e.postedBy||G===e.postedBy||"admin"===z?Object(b.jsx)(x.a,{align:"center",children:Object(b.jsx)(d.a,{onClick:function(){u(!1),N(!0),F(e._id)},variant:"outlined",color:"primary",children:Object(b.jsx)(y.a,{})})}):Object(b.jsx)(x.a,{align:"center",children:"X"}),X===e.postedBy||G===e.postedBy?Object(b.jsx)(x.a,{align:"right",children:Object(b.jsx)(d.a,{onClick:function(){var t;t=e._id,console.log(t),r.a.delete("/del-issue/".concat(t)).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),D(!A)},variant:"outlined",color:"secondary",children:Object(b.jsx)(I.a,{})})}):Object(b.jsx)(x.a,{align:"center",children:"X"})]},e._id)}))})]}),Object(b.jsxs)("div",{className:"make-center",children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)("div",{children:i?Object(b.jsx)(_,{}):""}),Object(b.jsx)("div",{children:C?Object(b.jsx)(L,{id:E}):""})]}),"\xa0 \xa0",Object(b.jsx)("br",{}),"\xa0",C?Object(b.jsx)(d.a,{onClick:function(){N(!C),D(!A),D(!A)},variant:"contained",color:"primary",children:"Done"}):Object(b.jsx)(d.a,{onClick:function(){u(!i),N(!1),D(!A)},variant:"contained",color:"secondary",children:i?"Done":"Add Issue"}),Object(b.jsx)("br",{})]}),Object(b.jsx)("br",{})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"make-center",children:[Object(b.jsxs)(d.a,{color:"secondary",variant:"outlined",onClick:function(){M?(localStorage.setItem("casAuth",""),localStorage.setItem("casName",""),localStorage.setItem("casRoll",""),window.location.href="http://localhost:5000/logout"):(localStorage.setItem("user_name",""),localStorage.setItem("user_role",""),P.push("/"))},children:[Object(b.jsx)(R.a,{}),"Logout"]}),"\xa0 \xa0",Object(b.jsx)(q.b,{to:"/all-users",activeClassName:"active",children:Object(b.jsxs)(d.a,{variant:"outlined",color:"secondary",children:[Object(b.jsx)(H.a,{})," All Users"]})})]})]}):Object(b.jsxs)("div",{children:["No users found",G]})})},z=Object(O.a)({table:{minWidth:500}});var M=function(){var e=z(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),j=i[0],u=i[1];return Object(n.useEffect)((function(){r.a.get("/users").then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e)}))}),[j]),Object(b.jsx)("div",{children:Object(b.jsxs)(m.a,{component:v.a,children:[Object(b.jsxs)(h.a,{className:e.table,"aria-label":"a dense table",children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{align:"center",children:"User Name"}),Object(b.jsx)(x.a,{children:"Email Id"}),Object(b.jsx)(x.a,{align:"center",children:"Role"})]})}),Object(b.jsx)(g.a,{children:c.map((function(e){return Object(b.jsxs)(f.a,{children:[Object(b.jsx)(x.a,{align:"center",children:e.name}),Object(b.jsx)(x.a,{component:"th",scope:"row",children:e.email}),Object(b.jsx)(x.a,{align:"center",children:Object(b.jsx)(U.a,{label:e.role,variant:"outlined",color:"secondary"})})]},e._id)}))})]}),Object(b.jsx)(d.a,{onClick:function(){u(!j)},children:"Refresh Users List"}),Object(b.jsx)(q.b,{to:"/front",activeClassName:"active",children:Object(b.jsx)(d.a,{variant:"outlined",color:"secondary",children:"List All Issues"})})]})})};var G=function(){return Object(b.jsxs)(q.a,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",component:u}),Object(b.jsx)(j.a,{path:"/front",component:X}),Object(b.jsx)(j.a,{path:"/all-users",component:M})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),K()}},[[132,1,2]]]);
//# sourceMappingURL=main.2c1b4e2a.chunk.js.map